---
title: "AI Generator"
description: "Connect AI *AI Generator* は、プレーンテキストプロンプトから実行可能なSQL クエリを作成します。Connect AI のConnection からデータに関する質問をするだけで、人工知能（AI）が生成したすぐに使えるSQL クエリを受け取ることができます。AI Generator はデータモデルを理解し、データソースのテーブルメタデータに基づいてクエリを生成します。"
---


これにより、通常クエリ作成に費やされる手作業の時間が短縮され、SQL クエリの作成プロセスがスピードアップします。AI Generator は、Connect AI で接続されているあらゆるデータソースに対する複雑なクエリを管理します。

## 前提条件

AI Generator を使用する前に、Connect AI 内でコネクションを適切に設定する必要があります。コネクションの設定について詳しくは、[Sources](/ja/Sources) を参照してください。AI Generator 内にある、事前に作成されたコネクションを選択してクエリを実行できます。

## AI Generator

ジェネレータにアクセスするには、**Data Explorer** ページ右上にある**AI Generator** をクリックします。

<Frame>
  <img src="/images/ai_generator01.png" alt="AI Generator" />
</Frame>

**AI Generator** をクリックすると、右側に以下のようなオプションペインが開きます。

<Frame>
  <img src="/images/ai_generator02.png" alt="AI Generator options" />
</Frame>

以下の手順に従って、AI Generator を設定します。

<Steps>
<Step>
**Connection** リストからConnect AI コネクションを選択します（2コネクションまで）。
</Step>
<Step>
**Schemas** リストから、クエリを実行するスキーマを選択します（2スキーマまで）。コネクションを1つ選択し、そのコネクションにスキーマが1つしかない場合、AI ジェネレータはそのスキーマを自動的に選択することに注意してください。
</Step>
<Step>
**Tables** リストから、クエリを実行するテーブルを選択します（2テーブルまで）。
</Step>
<Step>
**SQL Prompt** テキストボックスに、データに対して実行するクエリを説明するプレーンテキストの説明を入力します。
</Step>
<Step>
**Generate SQL** をクリックします。AI によって生成されたSQL ステートメントが、コードボックスに表示されます。
</Step>
<Step>
**Execute** をクリックします。データエクスプローラーのSQL ボックスにクエリがコピーされます。**Copy** をクリックしてSQL クエリをコピーし、手動でペーストすることもできます。
</Step>
<Step>
再度**Execute** をクリックして、データに対してクエリを実行します。結果は、データエクスプローラーのSQL ボックスの下に表示されます。
</Step>
</Steps>

## セキュアなクエリ生成

コネクションを選択すると、そのコネクションで使用可能なテーブルが**Tables** リストに追加されます。入力されたプレーンな文章は、選択したテーブルのメタデータ（カラム名のみ）とバンドルされ、プロンプトとしてMicrosoft Azure OpenAI エンドポイントに送信されます。セキュリティ上の理由から、このメタデータ以上のデータはAzure に送信されません。サービスがSQL クエリを生成し、Connect AI に返します。SQL が生成されると、メタデータは破棄されます。

## Tokens

大規模言語モデル（LLM）アルゴリズムは、リクエスト内の文字をトークンに変換することによって、データをモデルに送信します。必要なトークンを計算することで、Connect AI はリクエストの複雑さと、リクエストを完了するために必要な処理能力を判断します。一般的に、トークンは4つの文字で構成されます。


<Frame>
  <img src="/images/ai_generator03.png" alt="AI Generator tokens" />
</Frame>

**SQL Prompt** テキストボックスの下部（右下）に、各クエリで使用するトークンの合計数が表示されます。このモデルは、単一リクエストで1クエリあたり4000 トークンを処理できます。これには入力と結果の両方が含まれるため、入力に2000トークンの制限をかけています。各ユーザーは、ひと月30件のリクエスト送信できます。つまり、各ユーザーは**Generate SQL** を合計30回クリックすることができます。タイムアウトのようなネットワークエラーに起因するリクエストはカウントされません。無効なプロンプトによって発生したエラーは、月次クレジットにカウントされます。この制限は毎月リセットされますが、未使用のリクエストは繰り越されません。

<Note>
 **Note:** このモデルには1分あたりの処理能力があります。複数のユーザーが同時にリクエストを送信した場合、サービスが停止したり、応答の送信に余分な時間が必要になったりする可能性があります。
</Note>

## データプライバシー

CData は、お客様のプライバシーを非常に重要なものと考えています。AI Generator の目的でConnect AI とMicrosoft Azure OpenAI の間で共有されるデータは、機密保持され、適切に廃棄されます。詳しくは、[利用規約](/ja/terms-of-service)を参照してください。