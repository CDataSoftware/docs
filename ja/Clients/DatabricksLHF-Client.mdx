---
title: "Databricks Lakehouse Federation"
description: "Databricks Lakehouse Federation を使用すると、Databricks にデータをインポートすることなくデータ仮想化を実現できます。Connect AI ではデータの仮想化が可能ですが、データリネージやきめ細かいアクセス制御など、Databricks 上で仮想化することでメリットが得られる機能もあります。Databricks Lakehouse Federation について詳しくは、[Databricks のドキュメント](https://www.databricks.com/ja/blog/announcing-general-availability-lakehouse-federation)を参照してください。"
---


Databricks Lakehouse Federation はConnect AI アカウントに接続されたデータソースからデータを取得できます。このページではDatabricks Lakehouse Federation をConnect AI の仮想SQL Server API に接続する手順の概要を示します。

## 前提条件

接続する前にまず以下を実行します。

- データソースをConnect AI アカウントに接続します。詳しくは、[Sources](/ja/Sources) を参照してください。
- [Settings](/ja/Settings#access-tokens) ページでPersonal Access Token (PAT) を生成します。PAT をコピーし、認証時にパスワードとして使用します。

## Connect AI に接続する

Databricks Lakehouse Federation からConnect AI の仮想SQL Server API へのコネクションを確立するには以下の手順に従います。

<Steps>
<Step>
Databricks にログインします。
</Step>
<Step>
ナビゲーションペインで**カタログ**を選択します。**+** アイコンをクリックし、**接続を追加**を選択します。

<Frame>
![](/ja/images/databrickslhf_client_add_connection.png)
</Frame>
</Step>
<Step>
**接続を作成**で以下を入力します：
	- **接続名**—ユーザー定義の接続名。
	- **接続タイプ**—ドロップダウンリストから**SQL Server** を選択。
	- **認証タイプ**—**ユーザー名とパスワード**を選択。
	- **ホスト**—*tds.cdata.com*
	- **ポート**—*14333*
	- **ユーザー**—Connect AI のユーザー名を入力します。ユーザー名は、Connect AI の画面の右上に表示されています。例：*`test@cdata.co.jp`*
	- **パスワード**—[Settings](/ja/Settings#access-tokens) ページで生成したPAT を入力します。

<Frame>
![](/ja/images/databrickslhf_client_connection_details.png)
</Frame>
</Step>
<Step>
**接続のテスト**をクリックします。接続に成功すると、確認ダイアログが表示されます。
</Step>
<Step>
次に、ターゲットデータベースをカタログに追加する必要があります。ナビゲーションペインで、先ほど作成した接続を選択して**カタログを作成**をクリックします。

<Frame>
![](/ja/images/databrickslhf_client_create_catalog.png)
</Frame>
</Step>
<Step>
**新規カタログを作成**ダイアログで以下の情報を入力します：
	- **カタログ名**—ユーザー定義のカタログ名を入力。
	- **接続**—先ほど定義して選択したDatabricks 接続。
	- **データベース**—接続したいConnect AI データソースのConnection Name を入力します。例：*Salesforce1*

<Frame>
![](/ja/images/databrickslhf_client_catalog_details.png)
</Frame>
</Step>
<Step>
**作成**をクリックします。カタログの作成に成功すると、確認ダイアログが表示されます。**カタログを表示**をクリックして新しいカタログを表示します。
</Step>
<Step>
ナビゲーションペインの**カタログ**に戻って、追加したカタログを見つけることもできます。カタログを展開して、カタログ内のオブジェクトを表示します。

<Frame>
![](/ja/images/databrickslhf_client_view_catalog.png)
</Frame>
</Step>
<Step>
テーブルを選択し、**概要**タブをクリックしてテーブルメタデータを表示します。

<Frame>
![](/ja/images/databrickslhf_client_table_metadata.png)
</Frame>
</Step>
<Step>
**サンプルデータ**タブをクリックしてテーブル内のリアルタイムデータを表示します。

<Frame>
![](/ja/images/databrickslhf_client_table_data.png)
</Frame>
</Step>
<Step>
ナビゲーションペインの**ダッシュボード**に移動して、データを視覚化します。

<Frame>
![](/ja/images/databrickslhf_client_dashboards.png)
</Frame>
</Step>
</Steps>