---
title: "Microsoft Power Automate"
description: "You can connect Microsoft Power Automate to Connect AI via the OpenAPI specification or via Virtual SQL Server API."
---



## Prerequisites for Connecting via OpenAPI

Before you connect via OpenAPI, you must first do the following:

- Connect a data source to your Connect AI account. See [Sources](/ja/Sources) for more information.
- [Add a workspace](/ja/Workspaces#add-a-workspace) to Workspaces.
- [Add assets](/ja/Workspaces#workspace-assets) to your workspace.
- Generate a Personal Access Token (PAT) on the [Settings](/ja/Settings#access-tokens) page. Copy this down, as it acts as your password during authentication.

## Connect via OpenAPI

To establish a connection from Microsoft Power Automate to Connect AI via OpenAPI, follow these steps.

<Steps>
<Step>
In **Workspaces** in Connect AI, select a workspace and download the OpenAPI specification for the workspace. See [OpenAPI](/ja/API/OpenAPI) for more information.
<Note>
**Note:** You must use OpenAPI version 2.0 and select **Convert array types to strings**.
</Note>
<Frame>
  <img src="/ja/images/powerautomate_client_endpoints.png" alt="Power Automate client endpoints" />
</Frame>
</Step>
<Step>
Log in to Microsoft Power Automate.
</Step>
<Step>
Select **Custom connectors** to create a custom connector (you may need to click **More** > **Discover all** to find **Custom connectors**).
</Step>
<Step>
Select **New custom connector** > **Import an OpenAPI file**.
<Columns cols={2}>
<Frame>
  <img src="/ja/images/powerapps_importopenAPI.png" alt="Power Apps import OpenAPI" />
</Frame>
</Columns>
</Step>
<Step>
Enter a **Connector name** and import the OpenAPI specification file you downloaded.
</Step>
<Step>
In the **1\. General** step, enter general information about the connector, including a description. **Host** and **Base URL** are required, but are already filled in.
</Step>
<Step>
In the **2\. Security** step, select an **Authentication type** of **Basic authentication**. Users have to provide a user name and password before using this API. Enter the parameter labels that users will see.
<Note>
**Note:** When you use the custom connector, the user name is the Connect AI user name, and the password is the PAT created in the prerequisites.
</Note>
</Step>
<Step>
The **3\. Definition** step of the connector defines all the actions of the connector that are contained in the OpenAPI specification file. The actions include all the functions you need for the table, including list, get, create, update, and delete records.
	In the **3\. Definition** step, you can edit the **Actions**, **References**, and **Policies** imported from the OpenAPI specification.
	- **Actions**—each action in the custom connector has **General** information, as well as the **Request**, **Response**, and **Validation** of the response.
		For example, the following request is a GET request to list drives.
		<Frame>
		  <img src="/ja/images/powerapps_request.png" alt="Power Apps request" />
		</Frame>
		The request includes query parameters that are appended to the URL, such as `$top`, `$filter`, and `$orderby`. You can edit and delete the query parameters here. The parameters are based on the OData protocol.
		See [API Operations](/ja/API/OpenAPI#api-operations) for a complete reference.
		The **Test** step of creating a custom connector is where you can test out the query parameters.
		Similarly, there is a POST request to create a new record. The request contains all the fields for the record. You can edit these fields in the definition.
	- **References**—reusable parameters that are used by both actions and triggers. Each reference has a **Definition** and **Validation**.
	- **Policies**—used to change the behavior of actions through configuration.
</Step>
<Step>
Click **Create connector** to save the custom connector.
</Step>
<Step>
In the **6\. Test** step, you can test the behavior of each operation defined in the OpenAPI specification by applying query parameters.
For example, you can test the `$top` and `$orderby` query parameters by returning the top 100 records, ordered by `name`.
<Frame>
  <img src="/ja/images/powerapps_test.png" alt="Power Apps test" />
</Frame>
</Step>
<Step>
Once the custom connector is created, click the **+** sign to create a connection with the custom connector.
<Frame>
  <img src="/ja/images/powerautomate_client_create_conn.png" alt="Power Automate client create connection" />
</Frame>
</Step>
<Step>
Provide your Connect AI user name and password. The password is the PAT created in the prerequisites.
</Step>
<Step>
Go to **My flows**. Select **New flow** > **Instant cloud flow**. The **Build an instant cloud flow** dialog appears.
<Frame>
  <img src="/ja/images/powerautomate_client_cloud_flow.png" alt="Power Automate client cloud flow" />
</Frame>
</Step>
<Step>
Enter a flow name and trigger, and click **Create**.
</Step>
<Step>
Click **+** to add an action.
</Step>
<Step>
Select **Custom** from the **Runtime** drop-down list and click the custom connector you created.
<Frame>
  <img src="/ja/images/powerautomate_client_add_action.png" alt="Power Automate client add action" />
</Frame>
</Step>
<Step>
Choose the request you want to send. Once the flow is successfully completed, you can test the outputs for your flow.
</Step>
</Steps>

## Prerequisites for Connecting via Virtual SQL Server API

Before you connect via the Virtual SQL Server API, you must first do the following:

- Connect a data source to your Connect AI account. See [Sources](/ja/Sources) for more information.
- If you want to connect to a Connect AI workspace, [add a workspace](/ja/Workspaces#add-a-workspace) to Workspaces and [add assets](/ja/Workspaces#workspace-assets) to your workspace.
- Generate a Personal Access Token (PAT) on the [Settings](/ja/Settings#access-tokens) page. Copy this down, as it acts as your password during authentication.

## Connect via the Virtual SQL Server API

<Steps>
<Step>
Log in to Microsoft Power Automate.
</Step>
<Step>
In the navigation menu, open **More** > **Connections**.
<Frame>
  <img src="/ja/images/powerautomate_client_01.png" alt="Power Automate client 01" />
</Frame>
</Step>
<Step>
Click **New connection** to open the list of available connections.
</Step>
<Step>
Select **SQL Server**. In the dialog that appears, select **SQL Server Authentication**.
<Frame>
  <img src="/ja/images/powerautomate_client_02.png" alt="Power Automate client 02" />
</Frame>
</Step>
<Step>
Enter the connection settings.
	- **SQL server name**—enter the Virtual SQL Server endpoint and port separated by a comma: *tds.cdata.com*,*14333*
	- **SQL database name**—接続したいConnect AI データソースのConnection Name を入力します。例：*Salesforce1* To connect to a workspace, set the **SQL database name** to the name of your workspace (for example, *MyWorkspace*).
	- **Username**—Connect AI のユーザー名を入力します。ユーザー名は、Connect AI の画面の右上に表示されています。例：*`test@cdata.co.jp`* To connect to a workspace, set the **Username** to `[CData_username]@[workspace_name]` (for example, *test@cdata.com@MyWorkspace*).
	- **Password**—[Settings](/ja/Settings#access-tokens) ページで生成したPAT を入力します。
	- Leave the **Choose a gateway** field blank.
	*Connecting to a source*:
<Frame>
  <img src="/ja/images/powerapps_create.png" alt="Power Apps create" />
</Frame>
	*Connecting to a workspace*:
<Frame>
  <img src="/ja/images/powerapps_workspace.png" alt="Power Apps workspace" />
</Frame>
</Step>
<Step>
Click **Create** to establish the connection.
</Step>
</Steps>

Your connection now appears in your connection list. You can add more data sources from your Connect AI account by repeating this process and entering a different **SQL database name**.

## Learn More

For more information about SQL Server connections in Microsoft Power Automate, please see [Microsoft’s support article](https://learn.microsoft.com/en-us/connectors/sql/).