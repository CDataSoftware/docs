---
title: "Sources"
description: "***Sources*** ページでは、[データソース](/ja/Data-Sources) へのコネクションを作成・管理することができます。"
---


<Frame>
<img src="./images/sources.png" alt="Sources" />
</Frame>

**Sources** ページには、各コネクションに関する次の情報が含まれています：

- **Connection Name**—ユーザーが定義したコネクション名。
- **Data Source**—コネクションのデータソースの種類と、データソースがカスタムレポートをサポートしているかどうか。
- **Status**—コネクションのステータス。次のいずれかになります：
	- **Authenticated**—データソースへの接続は成功している。
	- **Not Authenticated**—Embedded Cloud でコネクションは作成されたが、データソースの接続に成功していない。コネクションの編集画面に戻って認証することができます。Query ユーザーは、接続を認証するために管理者に連絡する必要があることに注意してください。
	- **Conditional**—接続は、コネクタに追加されたグローバル設定とテーブルに基づいて条件付きである。これはAPI コネクタで発生します。
- **Last Modified**—ユーザーが最後にコネクションを更新した日時。

## コネクションの追加

新しいコネクションを追加するには、次の手順を実行します。

<Steps>
<Step>
**Sources** ページで**Add Connection** をクリックします。これにより**Add Connection** ダイアログが表示されます。
</Step>
<Step>
ダイアログ内のリストからデータソースを選択するか、名前でコネクションを検索します。

<Frame>
<img src="./images/add_connection.png" alt="Add connection" />
</Frame>
</Step>
</Steps>

データソースを選択すると、当該データソース用の**Edit Connection** ページが表示されます。

<Steps>
<Step>
[データソースの説明](/ja/Data-Sources-Embedded) に従ってコネクションを設定します。コネクションを設定するための手順は、設定ページの右側のペインの**Documentation** タブに表示されます。
</Step>
<Step>
**Save and Test** をクリックします。
</Step>
</Steps>

接続に成功すると、**Connection successfully saved** というメッセージが表示されます。**Edit Connection** ページの右ペインにある**Data Model** タブで、コネクションのデータモデルを表示することもできます。メインの**Sources** ページに戻ると、Sources 一覧に新しいコネクションが表示されます。一覧の編集または削除用アイコンをクリックすることで、いつでもコネクションを編集または削除することができます。

接続に失敗すると、ユーザーインターフェースには、データが不足しているフィールドの下にエラーメッセージが表示されます。一部のデータソースでは、データソースのWeb サイトに直接サインインする必要があります。サインインしていない場合は、ユーザーインターフェースには、**Sign in** ボタンの下にエラーメッセージが表示されます。

状況によっては、コネクションのメタデータキャッシュをリフレッシュすることで、Embedded Cloud アプリケーションの読み込みやパフォーマンスの問題を解決できる場合があります。メタデータキャッシュをリフレッシュするには、**Edit Connection** ページの上部にある**Refresh Metadata** をクリックします。メタデータキャッシュのリフレッシュが成功したことを示すバナーが表示されます。

<Note>
 コネクションを編集または削除しようとしたときに、Embedded Cloud が現在のコネクションからキャッシュされたジョブを見つけた場合は、警告が表示されます。キャンセルするか、変更を続行するかを選択できます。変更を保存すると、Embedded Cloud は現在のコネクションからキャッシュされたデータをクリアします。
</Note>

接続に失敗すると、下書きとして保存されます。下書きのコネクションは**Edit Connection** ページとメインの**Sources** ページに**Not Authenticated** として表示されます。後でコネクションを編集して認証プロセスを完了できます。Query ユーザーは、下書きのコネクションを認証するためにアカウントの管理者に連絡する必要があることに注意してください。

## 権限の付与

コネクションを作成または編集する場合、**Permissions** タブに利用可能なユーザーのリストが表示され、それぞれに権限を割り当てることができます。権限の内容は以下のとおりです。

- **Select：** コネクション内のテーブルから行を選択できます。
- **Insert：** コネクションのテーブルに行を挿入できます。
- **Update：** コネクションのテーブル内の行を更新できます。
- **Delete：** コネクション内のテーブルから行を削除できます。
- **Execute：** ユーザーがコネクション内のストアドプロシージャを実行できます。

<Frame>
<img src="./images/connection_permissions.png" alt="Connection permissions" />
</Frame>

4つの方法で権限を切り替えることができます。

- テーブル内の個々のボックスをクリックすると、1人のユーザーに対してその権限が有効 / 無効になります。
- テーブルのカラム上部にあるダブルチェックマークをクリックすると、すべてのユーザーに対してその権限が有効 / 無効になります。
- テーブルの右側にあるダブルチェックマークをクリックすると、1人のユーザーに対するすべての権限が有効 / 無効になります。
- テーブルの右上にある**All** と書かれたダブルチェックマークをクリックすると、全ユーザーのすべての権限が有効 / 無効になります。

## カスタムレポートの設定

一部のデータソースは*カスタムレポート* をサポートしています。これにより、コネクション内でビューとしてクエリできる定義済みレポートを構成できます。各レポートには固有の必須インプットセットがあり、Embedded Cloud アカウントでレポートを構成するときにこれらのインプットを指定します。

カスタムレポートは、一般的に次の2種類のシナリオで役立ちます。

- 広告や分析データソースの場合、一連のメトリクスやディメンションを事前定義しておくことで、パフォーマンスデータの集計レポートを表示できます。
- その他の種類のデータソースでは、パラメータを事前定義してデータレポートを作成できます。例えば、会計API を使用すると、QuickBooks で総勘定元帳レポートを作成できる場合があります。

### カスタムレポートの作成

データソースがカスタムレポートをサポートしている場合、コネクションの設定ページに**Custom Reports** タブが表示されます。このタブをクリックすると、以下に示すようなカスタムレポートのインターフェースが表示されます。

<Frame>
<img src="./images/customReports_empty.png" alt="Custom reports empty" />
</Frame>

カスタムレポートを追加するには、以下の手順に従います。

<Steps>
<Step>
Report テーブルの上にある**Add** をクリックします。選択したデータソースで利用可能なカスタムレポートのリストを含むダイアログが表示されます。

<Frame>
<img src="./images/customReports_addReport.png" alt="Custom reports add report" />
</Frame>
</Step>
<Step>
使用するレポートを選択し、**Confirm** をクリックします。カスタムレポートの必須フィールドとオプションフィールドのリストが表示されます。
</Step>
<Step>
必要な情報を入力し、**Save** をクリックして、アカウントにカスタムレポートを保存します。
</Step>
</Steps>

カスタムレポートを保存すると、コネクションのテーブルのリストに表示されます。必要に応じて、カスタムレポートを削除したり新しいレポートを追加したりできます。

<Note>
**Note:** カスタムレポートは、同じデータソースへの複数のコネクションにまたがって共有されることはありません。例えば、Adobe Analytics に2つの別々のコネクションがある場合、各コネクションにはそれぞれ独自のカスタムレポートのリストが存在します。
</Note>

### カスタムレポートの使用

クエリのテーブルフィールドにカスタムレポートの名前を渡すことで、保存されたカスタムレポートをクエリできます。例えば、QuickBooks Online コネクションに*Customer Accounts List* というカスタムレポートがある場合、次のクエリでその結果をすべてSELECT できます。

```sql
SELECT * FROM [QuickBooksOnline1].[QuickBooksOnline].[Customer Accounts List]
```

### カスタムレポートの編集

既存のカスタムレポートを編集するには、以下の手順に従います。

<Steps>
<Step>
レポートテーブルで、編集するレポートを見つけます。
</Step>
<Step>
レポートの名前または種類をクリック、もしくは編集ボタンをクリックします。
</Step>
<Step>
**Edit Custom Report** で、レポートパラメータを追加または変更します。
</Step>
<Step>
**変更を保存**をクリックします。
</Step>
</Steps>

### カスタムレポートを既存のレポートから複製

既存のカスタムレポートを複製するには、以下の手順に従います。

<Steps>
<Step>
レポートテーブルで、複製するレポートを見つけます。

<Frame>
<img src="./images/customReports_duplicate.png" alt="Custom reports duplicate" />
</Frame>
</Step>
<Step>
複製ボタンをクリックします。Embedded Cloud は、新しい名前でデータソースの複製カスタムレポートを作成します。
</Step>
<Step>
必要に応じて**Report Name** を編集し、**Save** をクリックします。
</Step>
</Steps>

### カスタムレポートの削除

既存のカスタムレポートを削除するには、以下の手順に従います。

<Steps>
<Step>
レポートテーブルで、削除するレポートを見つけます。
</Step>
<Step>
レポートの右側にある削除ボタンをクリックします。あるいは、**Edit Custom Report** ページで**Delete** をクリックすることもできます。
</Step>
<Step>
ダイアログで再度**Delete** をクリックして確定します。
</Step>
</Steps>