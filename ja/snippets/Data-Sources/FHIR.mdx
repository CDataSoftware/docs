import SaveAndTest from '/ja/snippets/save-and-test.mdx';

## セットアップガイド

以下の手順で、FHIR をConnect AI アカウントに接続します。

<Steps>
<Step>
Connect AI のダッシュボードから**Connections** ページを開きます。
</Step>
<Step>
右上の **+ Add Connection** をクリックします。
</Step>
<Step>
検索フィールドに *FHIR* と入力し、データソース名をクリックします。
</Step>
<Step>
新しいコネクションの**Basic Settings** タブで、コネクション名を入力するかデフォルトの名前をそのまま使用します。
</Step>
<Step>
Set your **Connection Type**. The connection type determines the authentication method you will use.
</Step>
</Steps>

## Generic Authentication Methods

### GenericOAuth

The **Callback URL**, or Redirect URL, is the URL you need (`https://oauth.cdata.com/oauth/`) when setting up your OAuth app. Copy this URL and paste it into your OAuth app.

<Steps>
<Step>
Enter the following information:
	- **OAuth Client Id**—the Id assigned when you registered your FHIR account.
	- **OAuth Client Secret**—the client secret for your FHIR account.
	- **OAuth Authorization URL**—the URL where the user logs into OAuth and grants permissions to the application.
	- **OAuth Access Token URL**—the URL where authorization tokens can be exchanged for access tokens.
	- **URL**—the URL of the FHIR server. A sample generic URL is as follows: `http://my_fhir_server/r4b/`.
</Step>
<Step>
OAuth でセキュアに接続するには、**Sign in** をクリックします。これにより、FHIR のサインインページが新しいタブで開かれます。
</Step>
<Step>
FHIR アカウントにログインし、リクエストされた権限を設定します（該当する場合）。
</Step>
<SaveAndTest/>
</Steps>

### None

<Steps>
<Step>
Enter the **URL** for your connection. A sample generic URL is as follows: `http://my_fhir_server/r4b/`.
</Step>
<SaveAndTest/>
</Steps>

## Azure Authentication Methods

### AzureAD

<Steps>
<Step>
Enter the URL of the FHIR server. A sample Azure URL is as follows: `https://MY_AZURE_FHIR.azurehealthcareapis.com/`.
</Step>
<Step>
OAuth でセキュアに接続するには、**Sign in** をクリックします。これにより、FHIR のサインインページが新しいタブで開かれます。
</Step>
<Step>
FHIR アカウントにログインし、リクエストされた権限を設定します（該当する場合）。
</Step>
<SaveAndTest/>
</Steps>

### AzureServicePrincipal

<Steps>
<Step>
Enter the following information:
	- **OAuth Client Id**—the Id assigned when you registered your FHIR account.
	- **OAuth Client Secret**—the client secret for your FHIR account.
	- **URL**—the URL of the FHIR server. A sample Azure URL is as follows: `https://MY_AZURE_FHIR.azurehealthcareapis.com/`.
</Step>
<SaveAndTest/>
</Steps>

## AWS Authentication Methods

Enter an **AWS Region**, and then select an **Auth Scheme**.

### AwsRootKeys

<Steps>
<Step>
Enter the following information:
	- **AWS Access Key**—your AWS account access key. This value is found in your AWS security credentials page.
	- **AWS Secret Key**—your AWS account secret key. This value is found in your AWS security credentials page.
	- **URL**—the URL of the FHIR server. A sample AWS URL is as follows: `https://healthlake.REGION.amazonaws.com/datastore/DATASTORE_ID/r4/`.
</Step>
<SaveAndTest/>
</Steps>

### AwsIAMRoles

<Steps>
<Step>
Enter the following information:
	- **AWS Access Key**—your AWS account access key. This value is found in your AWS security credentials page.
	- **AWS Secret Key**—your AWS account secret key. This value is found in your AWS security credentials page.
	- **AWS Role ARN**—the Amazon Resource Name of the role you want to use when authenticating.
	- **URL**—the URL of the FHIR server. A sample AWS URL is as follows: `https://healthlake.REGION.amazonaws.com/datastore/DATASTORE_ID/r4/`.
</Step>
<SaveAndTest/>
</Steps>

## Google Authentication Methods

### OAuth

<Steps>
<Step>
Enter the **URL** of the FHIR server. A sample Google URL is as follows: `https://healthcare.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/datasets/DATASET_ID/fhirStores/FHIR_STORE_ID/fhir/`.
</Step>
<Step>
Click **Sign in with Google** to connect securely through OAuth. This action opens the FHIR sign-in page on a new tab.
</Step>
<Step>
Log in to your FHIR account.
</Step>
<SaveAndTest/>
</Steps>

### OAuthJWT

<Steps>
<Step>
Enter the following information:
	- **OAuth JWT Cert**—the contents of the certificate file provided by Google. A sample format is provided.
	- **OAuth JWT Subject**—(optional) the email address of the user whose data you want to access. Only set this value if the service account is part of a GSuite domain and you want to enable delegation.
	- **URL**—the URL of the FHIR server. A sample Google URL is as follows: `https://healthcare.googleapis.com/v1/projects/PROJECT_ID/locations/LOCATION/datasets/DATASET_ID/fhirStores/FHIR_STORE_ID/fhir/`.
</Step>
<SaveAndTest/>
</Steps>

## InterSystems Authentication Methods

### ApiKey

<Steps>
<Step>
Enter the **API Key** for your FHIR account.
</Step>
<Step>
Enter the **URL** of the FHIR server.
</Step>
<SaveAndTest/>
</Steps>

### None

<Steps>
<Step>
Enter the **URL** of the FHIR server.
</Step>
<SaveAndTest/>
</Steps>